<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Using Tools and/or Solving Problems</title>
	
	<meta name="description" content="A funny thing happened on the way to deployment">
	
	<meta name="author" content="Jeff Dickey">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/resources/syntax/syntax.css" rel="stylesheet">
	<link href="/assets/css/style.css" rel="stylesheet">

	<!-- Le fav and touch icons -->
	<!-- Update these with your own images
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->

	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/jdickey">
				<i class="fa fa-github"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="http://twitter.com/jeff_dickey">
				<i class="fa fa-twitter"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="mailto:jeff_dickey@hotmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			
			<a class="navbar-brand" href="/">
				<img src="http://www.gravatar.com/avatar/d6d968e5de074e1aeef2ed6b9cc336f9?s=35" class="img-circle" />
				Two Foos Walked into a Bar...
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/categories.html">Categories</a></li>
				<li><a href="/tags.html">Tags</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="/"><i class="fa fa-home"></i>Home</a></li>
			<li><a href="/categories.html"><i class="fa fa-folder"></i>Categories</a></li>
			<li><a href="/tags.html"><i class="fa fa-tags"></i>Tags</a></li>
			<li class="divider"></li>
			<li><a href="#"><i class="fa fa-arrow-up"></i>Top of Page</a></li>
		</ul>
	</div>

	<div class="col-sm-3 sidebar hidden-xs" style="">
		<!-- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<img src="http://www.gravatar.com/avatar/d6d968e5de074e1aeef2ed6b9cc336f9?s=150" class="img-circle" />
	</a>
	<h3 class="title">
        <a href="/">Two Foos Walked into a Bar...</a>
    </h3>
</header>


<div id="bio" class="text-center">
	Software and Web developer. Tamer of deadlines. Enchanter of stakeholders.
</div>


<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/jdickey">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://twitter.com/jeff_dickey">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:jeff_dickey@hotmail.com">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		
	</ul>
	<ul id="contact-list-secondary" class="list-unstyled list-inline">
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://linkedin.com/in/jdickey">
				<i class="fa fa-linkedin fa-lg"></i>
			</a>
		</li>
		
		<li>
			<a class="btn btn-default btn-sm" href="/feed.xml">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>
<!-- sidebar.html end -->

	</div>

	<div class="col-sm-9 col-sm-offset-3">
		<div class="page-header">
  <h1>Using Tools and/or Solving Problems </h1>
</div>
	
<article>

	<div class="col-sm-10">
	 <span class="post-date">
	   
	   August 
	   4th,
	   
	   2017
	 </span>
	  <div class="article_body">
	  <p>Are you a developer who views your job as primarily <em>solving problems</em> or as <em>building and using tools?</em></p>

<p>Our culture has a word for when the second becomes overly separated from the first: <em>bike-shedding.</em> Yet, no matter how diligently you focus on “accomplishing the original mission” or “moving the ball down the pitch” or whatever military/sports trope you like, at some point you’ll say to yourself “hey, I’ve been doing this same 37-step process every other day for the last month; I bet I could save <em>a lot</em> of time by automating it.”</p>

<figure style="padding: 4rem 0;">
<img style="margin-left: 20%; width: 60%;" src="https://imgs.xkcd.com/comics/is_it_worth_the_time.png" alt="Is it worth the time? Probably not" />
<figcaption style="clear: both; text-align: center;">Relevant <a href="https://xkcd.com/1205/">XKCD</a> wisdom</figcaption>
</figure>

<p>Raise your hand if you’ve <em>never</em> <strong>far</strong> overshot those limits.</p>

<p><em>(deafening silence)</em></p>

<p>Thought so. What brought this on, you ask? Funny you should ask.</p>

<p>I’ve been a happy customer of <a href="https://m.do.co/c/e3f4d7dea0e2">Digital Ocean</a> for a while now. Their VPSes (which they call <em>Droplets</em>) come in either traditional bare-OS flavours (Ubuntu, CentOS, CoreOS, etc) and “one-click app” installations (Rails, Node.js, Docker, and so on). They have excellent <a href="https://www.digitalocean.com/community/tags/api">API documentation</a> and <a href="https://www.digitalocean.com/community/tutorials">community tutorials</a>, and are, <em>for the most part,</em> a joy to work with and on.</p>

<p>One of the tools they maintain and support is <a href="https://github.com/digitalocean/doctl">doctl</a>, an open source tool with a relatively <a href="https://github.com/digitalocean/doctl/releases">mature and regular release history</a>. This lets you create and manage Droplets and other Digital Ocean resources (like <em>Floating IP</em>s, which let you, e.g., register an IP address with a domain registrar and move that IP between Droplets as you provision updates). However, the <code class="language-plaintext highlighter-rouge">doctl</code> tool, like the API it exercises, <em>does not</em> easily support configuring and managing the software running <em>on</em> a Droplet; for that, you’ll need <code class="language-plaintext highlighter-rouge">ssh</code> or a tool like <a href="https://www.ansible.com/">Ansible</a>, <a href="https://www.packer.io/">Packer</a>, <a href="https://buddy.works/">Buddy</a>, or a host of others.</p>

<p><em>And that’s where the <strong>rant</strong> comes in.</em></p>

<p>I’ve spent the last month, off and on, teaching myself enough Ansible to get by. I have two Droplets that I built and configured using Digital Ocean’s <a href="https://cloud.digitalocean.com/droplets">Web control panel</a> a month ago; let’s call them <code class="language-plaintext highlighter-rouge">server1</code> and <code class="language-plaintext highlighter-rouge">server2</code>. I can use <code class="language-plaintext highlighter-rouge">doctl</code> to manage them (power up/down, swap a Floating IP between them) as I wish; I can use <em>ad hoc</em> Ansible commands like the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ansible -m shell -a 'docker pull jdickey/an-image:dev24' server2
server2 | SUCCESS | rc=0 &gt;&gt;
dev24: Pulling from jdickey/an-image
# ... ~30 lines of detailed logging...
8c5df88fde12: Verifying Checksum
8c5df88fde12: Download complete
8c5df88fde12: Pull complete
e2b2fc459b42: Pull complete
Digest: sha256:7a4f6098e01a5211b14b63428f9cdcd9929724bf83500f37745acfb1c3655181
Status: Downloaded newer image for jdickey/an-image:dev24
$
</code></pre></div></div>

<p>That’s fine. Now I have two newer droplets (let’s call them <code class="language-plaintext highlighter-rouge">demo1</code> and <code class="language-plaintext highlighter-rouge">demo2</code>) <em>configured identically to the first two</em> that I created with <code class="language-plaintext highlighter-rouge">doctl</code>, that I can <code class="language-plaintext highlighter-rouge">ssh</code> into but that Ansible gets blocked from:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ssh jeff@$DEMO2_IP
# ... banner ...
jeff@demo2:~$ docker ps -a
CONTAINER ID        IMAGE                    COMMAND                  CREATED             STATUS              PORTS                NAMES
c74b5515f893        jdickey/an-image:dev24   "/bin/sh -c 'pushs..."   3 hours ago         Up 3 hours          0.0.0.0:80-&gt;80/tcp   eager_meitner
jeff@demo2:~$ exit
$ ansible -=m shell -a 'docker ps -a' demo2
demo2 | UNREACHABLE! =&gt; {
    "changed": false, 
    "msg": "Failed to connect to the host via ssh: Permission denied (publickey).\r\n", 
    "unreachable": true
}
$
</code></pre></div></div>

<p>I’ve had people suggest “Use Packer”, “Use this other tool”, “Nuke and reinstall Ansible”.</p>

<p>In other words:</p>

<blockquote>
  <p>Don’t sweat the problem; keep swapping out tools until one of them Just Works.</p>
</blockquote>

<p>Aside from that being <em>horrifically</em> bad devops practice, it doesn’t answer the real questions that urgently <em>need</em> an answer:</p>

<blockquote>
  <p>What changed in the DO Droplet provisioning between a month ago and now that broke Ansible? How do I get <em>Ansible</em> working again with new Droplets?</p>
</blockquote>

<p>Because, <em>until and unless I have answers for those,</em> I have <em>zero</em> confidence in any other tool (or any other deployment provider, for that matter). If you don’t understand why your tools broke, then simply using new random tools won’t help you prevent, or at least react effectively to, the <em>new</em> tools breaking. And the assumption you <em>must</em> make is that they <em>will</em> randomly break, until and unless experience shows you otherwise.</p>

<h3 id="postscripts">Postscripts</h3>

<p>I don’t mean to be casting aspersions on Digital Ocean, Ansible, Pusher, or the well-meaning but short-sighted folks telling me to “just get on with it, already”. I’ll bet that there’s some doc out there somewhere that I just happened to miss that tells me exactly what’s broken and why, and how to fix my process to deal with the change. If you know of such a thing, <strong>please</strong> comment below or ping me on <a href="https://twitter.com/jeff_dickey">Twitter</a> or Gitter.</p>


	  </div>

		
		<ul class="tag_box list-unstyled list-inline">
		  <li><i class="fa fa-folder-open"></i></li>
		  
		  
			 
				<li><a href="/categories.html#practices-ref">
					practices <span>(7)</span>
					
				</a></li>
			
		  
		</ul>
		  

		
		<ul class="list-inline">
		  <li><i class="fa fa-tags"></i></li>
		  
		  
			 
				<li>
					<a href="/tags.html#tools-ref">
					tools <span>(6)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#deployment-ref">
					deployment <span>(3)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#devops-ref">
					devops <span>(2)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#problem solving-ref">
					problem solving <span>(1)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#rant-ref">
					rant <span>(10)</span>
					
					</a>
				</li>
			
		  
		  
		</ul>
		  

		<hr>

		<div>
      <section class="share col-sm-6">
        <h4 class="section-title">Share Post</h4>
        <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text=Using Tools and/or Solving Problems&via=jeff_dickey"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>
      </section>

      <section class="col-sm-6 author">
	<img src="http://www.gravatar.com/avatar/d6d968e5de074e1aeef2ed6b9cc336f9" class="img-rounded author-image" />
        <h4 class="section-title author-name">Jeff Dickey</h4>
        <p class="author-bio">Software and Web developer. Tamer of deadlines. Enchanter of stakeholders.</p>
      </section>
    </div>

    <div class="clearfix"></div>

		<ul class="pager">
		  
		  <li class="previous"><a href="/practices/2017/07/23/developers-get-split-personalities.html" title="Developers Get Split Personalities">&larr; Previous</a></li>
		  
		  
		  <li class="next"><a href="/development/practices/2017/12/20/enthusiastically-poking-at-hanami.html" title="Enthusiastically Poking at Hanami">Next &rarr;</a></li>
		  
		</ul>

		<hr>
	</div>
	
	<div class="col-sm-2 sidebar-2">
	
	</div>
</article>
<div class="clearfix"></div>



    
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'jdickeyghpages';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>





		<footer>
			<hr/>
			<p>
				&copy; 2022 Jeff Dickey with Jekyll. Theme: <a href="https://github.com/dbtek/dbyll">dbyll</a> by dbtek.
			</p>
		</footer>
	</div>

	<script type="text/javascript" src="/assets/resources/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/assets/resources/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>
</body>
</html>



